/*
	glDatePicker v1.3 - http://code.gautamlad.com/glDatePicker/
	Compiled using Google Closure Compiler - http://closure-compiler.appspot.com/home
*/
(function(c){var r={calId:0,cssName:"default",startDate:-1,endDate:-1,selectedDate:-1,showPrevNext:!0,allowOld:!0,showAlways:!1,position:"absolute"},i={init:function(a){return this.each(function(){var b=c(this),j=c.extend({},r);j.calId=b[0].id+"-gldp";a&&(j=c.extend(j,a));b.data("settings",j);b.click(i.show).focus(i.show);j.showAlways&&setTimeout(function(){b.trigger("focus")},50);c(document).bind("click",function(){i.hide.apply(b)})})},show:function(a){a.stopPropagation();i.hide.apply(c("._gldp").not(c(this)));
i.update.apply(c(this))},hide:function(){if(c(this).length){var a=c(this).data("settings");a&&!a.showAlways&&(c("#"+a.calId).slideUp(200),c(this).removeClass("_gldp"))}},setStartDate:function(a){c(this).data("settings").startDate=a},setEndDate:function(a){c(this).data("settings").endDate=a},setSelectedDate:function(a){c(this).data("settings").selectedDate=a},update:function(){var a=c(this),b=a.data("settings"),j=b.calId,e=b.startDate;-1==b.startDate&&(e=new Date,e.setDate(1));e.setHours(0,0,0,0);
var k=e.getTime(),d=new Date(0);-1!=b.endDate&&(d=new Date(b.endDate),/^\d+$/.test(b.endDate)&&(d=new Date(e),d.setDate(d.getDate()+b.endDate)));d.setHours(0,0,0,0);var d=d.getTime(),g=new Date(0);-1!=b.selectedDate&&(g=new Date(b.selectedDate),/^\d+$/.test(b.selectedDate)&&(g=new Date(e),g.setDate(g.getDate()+b.selectedDate)));g.setHours(0,0,0,0);var g=g.getTime(),h=a.data("theDate"),h=-1==h||"undefined"==typeof h?e:h,m=new Date(h);m.setDate(1);var r=m.getTime(),e=new Date(m);e.setMonth(e.getMonth()+
1);e.setDate(0);var w=e.getTime(),t=e.getDate(),n=new Date(m);n.setDate(0);n=n.getDate();a.data("theDate",h);for(var e="",u=0,v=0;6>u;u++){for(var s="",q=0;7>q;q++,v++){var o=n-m.getDay()+v+1,p=o-n,f=0==q?"sun":6==q?"sat":"day";if(1<=p&&p<=t){o=new Date;o.setHours(0,0,0,0);var l=new Date(h);l.setHours(0,0,0,0);l.setDate(p);l=l.getTime();f=o.getTime()==l?"today":f;b.allowOld||(f=l<k?"noday":f);-1!=b.endDate&&(f=l>d?"noday":f);-1!=b.selectedDate&&(f=l==g?"selected":f)}else f="noday",p=0>=p?o:o-t-n;
s+="<td class='gldp-days "+f+" **-"+f+"'><div class='"+f+"'>"+p+"</div></td>"}e+="<tr class='days'>"+s+"</tr>"}g=k<r||b.allowOld;k=w<d||d<k;b.showPrevNext||(g=k=!1);d="January February March April May June July August September October November December".split(" ")[h.getMonth()]+"&nbsp;"+h.getFullYear();k=("<div class='**'><table><tr>"+("<td class='**-prevnext prev'>"+(g?"\u25c4":"")+"</td>")+"<td class='**-monyear' colspan='5'>{MY}</td>"+("<td class='**-prevnext next'>"+(k?"\u25ba":"")+"</td>")+
"</tr><tr class='**-dow'><td>Sun</td><td>Mon</td><td>Tue</td><td>Wed</td><td>Thu</td><td>Fri</td><td>Sat</td></tr>"+e+"</table></div>").replace(/\*{2}/gi,"gldp-"+b.cssName).replace(/\{MY\}/gi,d);d=c("#"+j);0==d.length&&(d=c("<div id='"+j+"'></div>").appendTo(document.body).css({position:b.position,"z-index":a.closest(".modal").length?999600:100}));d.html(k).css({left:a.offset().left,top:a.offset().top+a.outerHeight()}).slideDown(200);a.addClass("_gldp");c("[class*=-prevnext]",d).click(function(b){b.stopPropagation();
if(c(this).html()!=""){var b=c(this).hasClass("prev")?-1:1,d=new Date(m);d.setMonth(h.getMonth()+b);a.data("theDate",d);i.update.apply(a)}});c("tr.days td:not(.noday, .selected)",d).mouseenter(function(){var a="gldp-"+b.cssName+"-"+c(this).children("div").attr("class");c(this).removeClass(a).addClass(a+"-hover")}).mouseleave(function(){if(!c(this).hasClass("selected")){var a="gldp-"+b.cssName+"-"+c(this).children("div").attr("class");c(this).removeClass(a+"-hover").addClass(a)}}).click(function(b){b.stopPropagation();
var b=c(this).children("div").html(),d=a.data("settings"),e=new Date(h);e.setDate(b);a.data("theDate",e);a.val(e.getMonth()+1+"/"+e.getDate()+"/"+e.getFullYear());if(d.onChange!=null&&typeof d.onChange!="undefined")d.onChange(a,e);d.selectedDate=e;i.hide.apply(a)})}};c.fn.glDatePicker=function(a){if(i[a])return i[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"===typeof a||!a)return i.init.apply(this,arguments);c.error("Method "+a+" does not exist on jQuery.glDatePicker")}})(jQuery);