/*
 * This is a slighlty modded version of respond.js, which adds a custom event when all files have been parsed ('respond-ready') and listen to "normalized-preresize" instead of "resize" for better performance
 */
/*! Respond.js v1.1.0: min/max-width media query polyfill. (c) Scott Jehl. MIT/GPLv2 Lic. j.mp/respondjs  */
(function(f){f.respond={};respond.update=function(){};respond.mediaQueriesSupported=f.matchMedia&&f.matchMedia("only all").matches;if(!respond.mediaQueriesSupported){var h=f.document,i=h.documentElement,r=[],n=[],m=[],s={},p=h.getElementsByTagName("head")[0]||i,E=h.getElementsByTagName("base")[0],q=p.getElementsByTagName("link"),t=[],A=function(){for(var c=q.length,b=0,a,d,e,g;b<c;b++)a=q[b],d=a.href,e=a.media,g=a.rel&&"stylesheet"===a.rel.toLowerCase(),d&&(g&&!s[d])&&(a.styleSheet&&a.styleSheet.rawCssText?(y(a.styleSheet.rawCssText,d,e),s[d]=!0):(!/^([a-zA-Z:]*\/\/)/.test(d)&&!E||d.replace(RegExp.$1,"").split("/")[0]===f.location.host)&&t.push({href:d,media:e}));z()},z=function(){if(t.length){var c=t.shift();var b=c.href,a=B();a&&(a.open("GET",b,!0),a.onreadystatechange=function(){4!=a.readyState||200!=a.status&&304!=a.status||(y(a.responseText,c.href,c.media),s[c.href]=!0,z())},4!=a.readyState&&a.send(null))}else jQuery(document).trigger("respond-ready")},y=function(c,b,a){var d=c.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),e=d&&d.length||0,b=b.substring(0,b.lastIndexOf("/")),g=function(a){return a.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+b+"$2$3")},h=!e&&a,l=0,k,j,f,i;b.length&&(b+="/");for(h&&(e=1);l<e;l++){k=0;h?(j=a,n.push(g(c))):(j=d[l].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,n.push(RegExp.$2&&g(RegExp.$2)));f=j.split(",");for(i=f.length;k<i;k++)j=f[k],r.push({media:j.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:n.length-1,hasquery:-1<j.indexOf("("),minw:j.match(/\(min\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:j.match(/\(max\-width:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}u()},v,C,D=function(){var c,b=h.createElement("div"),a=h.body,d=!1;b.style.cssText="position:absolute;font-size:1em;width:1em";a||(a=d=h.createElement("body"),a.style.background="none");a.appendChild(b);i.insertBefore(a,i.firstChild);c=b.offsetWidth;d?i.removeChild(a):a.removeChild(b);return c=w=parseFloat(c)},w,u=function(c){var b=i.clientWidth,a="CSS1Compat"===h.compatMode&&b||h.body.clientWidth||b,b={},d=q[q.length-1],e=(new Date).getTime();if(c&&v&&30>e-v)clearTimeout(C),C=setTimeout(u,30);else{v=e;for(var g in r){var c=r[g],e=c.minw,f=c.maxw,l=null===e,k=null===f;e&&(e=parseFloat(e)*(-1<e.indexOf("em")?w||D():1));f&&(f=parseFloat(f)*(-1<f.indexOf("em")?w||D():1));if(!c.hasquery||(!l||!k)&&(l||a>=e)&&(k||a<=f))b[c.media]||(b[c.media]=[]),b[c.media].push(n[c.rules])}for(g in m)m[g]&&m[g].parentNode===p&&p.removeChild(m[g]);for(g in b)a=h.createElement("style"),c=b[g].join("\n"),a.type="text/css",a.media=g,p.insertBefore(a,d.nextSibling),a.styleSheet?a.styleSheet.cssText=c:a.appendChild(h.createTextNode(c)),m.push(a)}},B,x=!1;try{x=new XMLHttpRequest}catch(F){x=new ActiveXObject("Microsoft.XMLHTTP")}B=function(){return x};A();respond.update=A;jQuery(window).on("normalized-preresize",function(){u(!0)})}})(this);