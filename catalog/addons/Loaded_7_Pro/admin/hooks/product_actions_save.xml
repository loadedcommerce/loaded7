<?xml version="1.0" encoding="UTF-8"?>
<modification>
  <id>extend products save()</id>
  <version>1.0.0</version>
  <vqmver>2.3.2</vqmver>
  <author>loadedcommerce.com</author>
  <file name="includes/applications/products/actions/save.php">
    <operation info="Extend Products Save 1">
      <search position="before"><![CDATA[class lC_Application_Products_Actions_save extends lC_Application_Products {]]></search>         
      <add><![CDATA[global $lC_Vqmod; if (file_exists(DIR_FS_CATALOG . 'addons/Loaded_7_B2B/admin/applications/products/classes/products.php')) include_once($lC_Vqmod->modCheck(DIR_FS_CATALOG . 'addons/Loaded_7_B2B/admin/applications/products/classes/products.php')); if (file_exists(DIR_FS_CATALOG . 'addons/Loaded_7_Pro/admin/applications/products/classes/products.php')) include_once($lC_Vqmod->modCheck(DIR_FS_CATALOG . 'addons/Loaded_7_Pro/admin/applications/products/classes/products.php'));]]></add>
    </operation>   
    <operation info="Extend Products Save 2">
      <search position="replace"><![CDATA[$id = (int)lC_Products_Admin::save((isset($_GET[$this->_module]) && is_numeric($_GET[$this->_module]) ? $_GET[$this->_module] : null), $data);]]></search>   
      <add><![CDATA[if (utility::isB2B() === true) { $id = (int)lC_Products_b2b_Admin::save((isset($_GET[$this->_module]) && is_numeric($_GET[$this->_module]) ? $_GET[$this->_module] : null), $data); } else { $id = (int)lC_Products_pro_Admin::save((isset($_GET[$this->_module]) && is_numeric($_GET[$this->_module]) ? $_GET[$this->_module] : null), $data); }]]></add>
    </operation>      
  </file>   
</modification>